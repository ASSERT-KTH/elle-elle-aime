{
  "files": 1, 
  "nb_test": 1718, 
  "nb_error": 0, 
  "classification": {
    "singleLine": false
  }, 
  "failing_tests": [
    "org.apache.wicket.ajax.AjaxEventBehaviorTest"
  ], 
  "patch": "diff --git a/wicket-core/src/main/java/org/apache/wicket/ajax/AjaxEventBehavior.java b/wicket-core/src/main/java/org/apache/wicket/ajax/AjaxEventBehavior.java\nindex b1a6f98b34..aba06de550 100644\n--- a/wicket-core/src/main/java/org/apache/wicket/ajax/AjaxEventBehavior.java\n+++ b/wicket-core/src/main/java/org/apache/wicket/ajax/AjaxEventBehavior.java\n@@ -16,11 +16,16 @@\n  */\n package org.apache.wicket.ajax;\n \n+import java.util.ArrayList;\n+import java.util.List;\n+\n import org.apache.wicket.Component;\n import org.apache.wicket.ajax.attributes.AjaxRequestAttributes;\n import org.apache.wicket.markup.head.IHeaderResponse;\n import org.apache.wicket.markup.head.OnDomReadyHeaderItem;\n import org.apache.wicket.util.lang.Args;\n+import org.apache.wicket.util.lang.Checks;\n+import org.apache.wicket.util.string.Strings;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n \n@@ -44,6 +49,13 @@\n  * represents, and so anytime a user clicks this div the {@link #onEvent(AjaxRequestTarget)} of the\n  * behavior is invoked.\n  *\n+ * <p>\n+ * <strong>Note</strong>: {@link #getEvent()} method cuts any <em>on</em> prefix from the given event name(s).\n+ * This is being done for easier migration of applications coming from Wicket 1.5.x where Wicket used\n+ * inline attributes like 'onclick=...'. If the application needs to use custom events with names starting with\n+ * <em>on</em> then {@link #getEvent()} should be overridden.\n+ * </p>\n+ *\n  * @since 1.2\n  * \n  * @author Igor Vaynberg (ivaynberg)\n@@ -69,18 +81,6 @@ public AjaxEventBehavior(String event)\n \n \t\tonCheckEvent(event);\n \n-\t\tevent = event.toLowerCase();\n-\t\tif (event.startsWith(\"on\"))\n-\t\t{\n-\t\t\tString shortName = event.substring(2);\n-\t\t\t// TODO Wicket 8 Change this to throw an error in the milestone/RC versions and remove it for the final version\n-\t\t\tLOGGER.warn(\"Since version 6.0.0 Wicket uses JavaScript event registration so there is no need of the leading \" +\n-\t\t\t\t\t\"'on' in the event name '{}'. Please use just '{}'. Wicket 8.x won't manipulate the provided event \" +\n-\t\t\t\t\t\"names so the leading 'on' may break your application.\"\n-\t\t\t\t\t, event, shortName);\n-\t\t\tevent = shortName;\n-\t\t}\n-\n \t\tthis.event = event;\n \t}\n \n@@ -102,7 +102,9 @@ protected void updateAjaxAttributes(AjaxRequestAttributes attributes)\n \t{\n \t\tsuper.updateAjaxAttributes(attributes);\n \n-\t\tattributes.setEventNames(event);\n+\t\tString evt = getEvent();\n+\t\tChecks.notEmpty(evt, \"getEvent() should return non-empty event name(s)\");\n+\t\tattributes.setEventNames(evt);\n \t}\n \n \t/**\n@@ -115,13 +117,33 @@ protected void onCheckEvent(final String event)\n \t}\n \n \t/**\n-\t * \n \t * @return event\n \t *      the event this behavior is attached to\n \t */\n-\tpublic final String getEvent()\n+\tpublic String getEvent()\n \t{\n-\t\treturn event;\n+\t\tString events = event.toLowerCase();\n+\t\tString[] splitEvents = events.split(\"\\\\s+\");\n+\t\tList<String> cleanedEvents = new ArrayList<>(splitEvents.length);\n+\t\tfor (String evt : splitEvents)\n+\t\t{\n+\t\t\tif (Strings.isEmpty(evt) == false)\n+\t\t\t{\n+\t\t\t\tif (evt.startsWith(\"on\"))\n+\t\t\t\t{\n+\t\t\t\t\tString shortName = evt.substring(2);\n+\t\t\t\t\t// TODO Wicket 8 Change this to throw an error in the milestone/RC versions and remove it for the final version\n+\t\t\t\t\tLOGGER.warn(\"Since version 6.0.0 Wicket uses JavaScript event registration so there is no need of the leading \" +\n+\t\t\t\t\t\t\t\"'on' in the event name '{}'. Please use just '{}'. Wicket 8.x won't manipulate the provided event \" +\n+\t\t\t\t\t\t\t\"names so the leading 'on' may break your application.\"\n+\t\t\t\t\t\t\t, evt, shortName);\n+\t\t\t\t\tevt = shortName;\n+\t\t\t\t}\n+\t\t\t\tcleanedEvents.add(evt);\n+\t\t\t}\n+\t\t}\n+\n+\t\treturn Strings.join(\" \", cleanedEvents);\n \t}\n \n \t/**\n", 
  "project": "wicket", 
  "linesAdd": 38, 
  "jira_id": "5783", 
  "nb_skipped": 1, 
  "commit": "7b8b6767", 
  "nb_failure": 1, 
  "linesRem": 16
}