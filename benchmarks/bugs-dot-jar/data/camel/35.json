{
    "bug_id": 35,
    "classification": {
        "singleLine": false
    },
    "commit": "79168a23",
    "failing_tests": [
        "org.apache.camel.impl.LifecycleStrategyServiceTest"
    ],
    "files": 1,
    "jira_id": "4467",
    "linesAdd": 3,
    "linesRem": 0,
    "nb_error": 0,
    "nb_failure": 1,
    "nb_skipped": 0,
    "nb_test": 3826,
    "patch": "diff --git a/camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java b/camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java\nindex c5dbd5ccc2..ee33f8ef14 100644\n--- a/camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java\n+++ b/camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java\n@@ -1415,6 +1415,7 @@ private void doStartCamel() throws Exception {\n         getManagementStrategy().start();\n \n         // start lifecycle strategies\n+        ServiceHelper.startServices(lifecycleStrategies);\n         Iterator<LifecycleStrategy> it = lifecycleStrategies.iterator();\n         while (it.hasNext()) {\n             LifecycleStrategy strategy = it.next();\n@@ -1526,6 +1527,8 @@ protected synchronized void doStop() throws Exception {\n \n         // shutdown management as the last one\n         shutdownServices(managementStrategy);\n+        shutdownServices(lifecycleStrategies);\n+        lifecycleStrategies.clear();\n \n         // stop the lazy created so they can be re-created on restart\n         forceStopLazyInitialization();\n",
    "project": "camel",
    "buggy_compile_success": false,
    "buggy_test_success": false,
    "fixed_compile_success": false,
    "fixed_test_success": false
}